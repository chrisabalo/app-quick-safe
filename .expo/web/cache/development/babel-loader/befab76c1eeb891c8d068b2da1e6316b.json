{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { UnavailabilityError } from '@unimodules/core';\nimport Sharing from \"./ExpoSharing\";\nexport function isAvailableAsync() {\n  return _regeneratorRuntime.async(function isAvailableAsync$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!Sharing) {\n            _context.next = 6;\n            break;\n          }\n          if (!Sharing.isAvailableAsync) {\n            _context.next = 5;\n            break;\n          }\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(Sharing.isAvailableAsync());\n        case 4:\n          return _context.abrupt(\"return\", _context.sent);\n        case 5:\n          return _context.abrupt(\"return\", true);\n        case 6:\n          return _context.abrupt(\"return\", false);\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport function shareAsync(url) {\n  var options,\n    _args2 = arguments;\n  return _regeneratorRuntime.async(function shareAsync$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          options = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n          if (!(!Sharing || !Sharing.shareAsync)) {\n            _context2.next = 3;\n            break;\n          }\n          throw new UnavailabilityError('Sharing', 'shareAsync');\n        case 3:\n          _context2.next = 5;\n          return _regeneratorRuntime.awrap(Sharing.shareAsync(url, options));\n        case 5:\n          return _context2.abrupt(\"return\", _context2.sent);\n        case 6:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"mappings":";AAAA,SAASA,mBAAmB,QAAQ,kBAAkB;AAEtD,OAAOC,OAAO;AAwBd,OAAO,SAAeC,gBAAgB;EAAA;IAAA;MAAA;QAAA;UAAA,KAChCD,OAAO;YAAA;YAAA;UAAA;UAAA,KACLA,OAAO,CAACC,gBAAgB;YAAA;YAAA;UAAA;UAAA;UAAA,iCACbD,OAAO,CAACC,gBAAgB,EAAE;QAAA;UAAA;QAAA;UAAA,iCAElC,IAAI;QAAA;UAAA,iCAGN,KAAK;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA;AASd,OAAO,SAAeC,UAAU,CAACC,GAAW;EAAA;IAAA;EAAA;IAAA;MAAA;QAAA;UAAEC,qEAA0B,EAAE;UAAA,MACpE,CAACJ,OAAO,IAAI,CAACA,OAAO,CAACE,UAAU;YAAA;YAAA;UAAA;UAAA,MAC3B,IAAIH,mBAAmB,CAAC,SAAS,EAAE,YAAY,CAAC;QAAA;UAAA;UAAA,iCAE3CC,OAAO,CAACE,UAAU,CAACC,GAAG,EAAEC,OAAO,CAAC;QAAA;UAAA;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA","names":["UnavailabilityError","Sharing","isAvailableAsync","shareAsync","url","options"],"sourceRoot":"","sources":["../src/Sharing.ts"],"sourcesContent":["import { UnavailabilityError } from '@unimodules/core';\n\nimport Sharing from './ExpoSharing';\n\n// @needsAudit\nexport type SharingOptions = {\n  /**\n   * Sets `mimeType` for `Intent` *(Android only)*\n   */\n  mimeType?: string;\n  /**\n   * ([Uniform Type Identifier](https://developer.apple.com/library/archive/documentation/FileManagement/Conceptual/understanding_utis/understand_utis_conc/understand_utis_conc.html))\n   * the type of the target file *(iOS only)*\n   */\n  UTI?: string;\n  /**\n   * Sets share dialog title *(Android and Web only)*\n   */\n  dialogTitle?: string;\n};\n\n// @needsAudit\n/**\n * Determine if the sharing API can be used in this app.\n * @return A promise that fulfills with `true` if the sharing API can be used, and `false` otherwise.\n */\nexport async function isAvailableAsync(): Promise<boolean> {\n  if (Sharing) {\n    if (Sharing.isAvailableAsync) {\n      return await Sharing.isAvailableAsync();\n    }\n    return true;\n  }\n\n  return false;\n}\n\n// @needsAudit\n/**\n * Opens action sheet to share file to different applications which can handle this type of file.\n * @param url Local file URL to share.\n * @param options A map of share options.\n */\nexport async function shareAsync(url: string, options: SharingOptions = {}): Promise<object> {\n  if (!Sharing || !Sharing.shareAsync) {\n    throw new UnavailabilityError('Sharing', 'shareAsync');\n  }\n  return await Sharing.shareAsync(url, options);\n}\n"]},"metadata":{},"sourceType":"module"}