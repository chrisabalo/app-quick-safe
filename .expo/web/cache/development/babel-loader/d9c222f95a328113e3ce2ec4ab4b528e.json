{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"E:\\\\local\\\\app-quick-safe\\\\components\\\\Stats.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useContext, useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { gs, colors } from \"../styles\";\nimport { AuthContext } from \"../navigation/AuthProvider\";\nimport { apiUrl } from \"../apiUrl\";\nvar Stats = function Stats() {\n  var _useContext = useContext(AuthContext),\n    user = _useContext.user;\n  var res = JSON.parse(user);\n  var id = res.data.iduser;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    alerte = _useState2[0],\n    setAlertes = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    totalAlerte = _useState4[0],\n    setTotalAlertes = _useState4[1];\n  useEffect(function () {\n    COUNT_ALERTES_USER_ID();\n    COUNT_ALL_ALERTES();\n  }, []);\n  var COUNT_ALERTES_USER_ID = function COUNT_ALERTES_USER_ID() {\n    return _regeneratorRuntime.async(function COUNT_ALERTES_USER_ID$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(apiUrl.get(\"accidents/alertes/\" + id).then(function (resp) {\n              var data = resp.data.data;\n              setAlertes(data[0].total);\n              console.log(data[0].total);\n              console.log('count ', data[0].total);\n            }));\n          case 3:\n            _context.next = 8;\n            break;\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n  var COUNT_ALL_ALERTES = function COUNT_ALL_ALERTES() {\n    return _regeneratorRuntime.async(function COUNT_ALL_ALERTES$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(apiUrl.get(\"accidents/all-accidents\").then(function (resp) {\n              var data = resp.data.data;\n              console.log(data);\n              setTotalAlertes(data[0].total_accident);\n              console.log('Total count ', data[0].total_accident);\n            }));\n          case 3:\n            _context2.next = 8;\n            break;\n          case 5:\n            _context2.prev = 5;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n  console.log(id);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: [styles.statContainer, styles.divider],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.statNumber,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, alerte != '' ? alerte : 0), React.createElement(Text, {\n    style: styles.stat,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, alerte == 0 ? 'alerte emise' : alerte == 1 ? 'alerte emise' : 'alertes emises')), React.createElement(View, {\n    style: styles.statContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.statNumber,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, totalAlerte), React.createElement(Text, {\n    style: styles.stat,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"Notifications\")));\n};\nexport default Stats;\nvar styles = StyleSheet.create({\n  container: _objectSpread(_objectSpread(_objectSpread({}, gs.sectionContainer), gs.rowBetween), {}, {\n    marginHorizontal: 15,\n    borderRadius: 16,\n    marginTop: -48\n  }),\n  fake_icon_box: {\n    backgroundColor: '#e4e6eb',\n    width: 40,\n    height: 40,\n    borderRadius: 40,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  statContainer: _objectSpread(_objectSpread({}, gs.center), {}, {\n    flex: 1\n  }),\n  statNumber: {\n    fontSize: 50,\n    fontWeight: \"900\",\n    color: colors.text,\n    fontFamily: 'Teko-Bold'\n  },\n  stat: {\n    fontSize: 10,\n    fontWeight: \"600\",\n    letterSpacing: 1,\n    textTransform: \"uppercase\",\n    color: colors.lightHl,\n    marginTop: 6\n  },\n  divider: {\n    borderRightWidth: 1,\n    borderColor: colors.darkHl\n  }\n});","map":{"version":3,"names":["React","useContext","useEffect","useState","gs","colors","AuthContext","apiUrl","Stats","user","res","JSON","parse","id","data","iduser","alerte","setAlertes","totalAlerte","setTotalAlertes","COUNT_ALERTES_USER_ID","COUNT_ALL_ALERTES","get","then","resp","total","console","log","total_accident","styles","container","statContainer","divider","statNumber","stat","StyleSheet","create","sectionContainer","rowBetween","marginHorizontal","borderRadius","marginTop","fake_icon_box","backgroundColor","width","height","flexDirection","justifyContent","alignItems","center","flex","fontSize","fontWeight","color","text","fontFamily","letterSpacing","textTransform","lightHl","borderRightWidth","borderColor","darkHl"],"sources":["E:/local/app-quick-safe/components/Stats.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\nimport { StyleSheet, Text, View } from 'react-native'\nimport {gs, colors} from '../styles'\nimport {AuthContext} from \"../navigation/AuthProvider\";\nimport {apiUrl} from \"../apiUrl\";\n\n\nconst Stats = () => {\n    const {user} = useContext(AuthContext)\n    const res = JSON.parse(user)\n    const id = res.data.iduser\n    const [alerte, setAlertes] = useState(0);\n    const [totalAlerte, setTotalAlertes] = useState(0);\n\n    useEffect(()=> {\n        COUNT_ALERTES_USER_ID();\n        COUNT_ALL_ALERTES();\n    }, [])\n    const COUNT_ALERTES_USER_ID = async () => {\n        try {\n            await apiUrl.get(`accidents/alertes/${id}`).then(resp => {\n                let data = resp.data.data\n                setAlertes(data[0].total)\n                console.log(data[0].total)\n                console.log('count ', data[0].total)\n            })\n        }catch (e) {\n            console.log(e)\n        }\n    }\n    const COUNT_ALL_ALERTES = async () => {\n        try {\n            await apiUrl.get(`accidents/all-accidents`).then(resp => {\n                let data = resp.data.data\n                console.log(data)\n                setTotalAlertes(data[0].total_accident)\n                console.log('Total count ', data[0].total_accident)\n            })\n        }catch (e) {\n            console.log(e)\n        }\n    }\n\n    console.log(id)\n    return (\n        <View style={styles.container}>\n            <View style={[styles.statContainer, styles.divider]}>\n                <Text style={styles.statNumber}>{alerte != '' ? alerte : 0 }</Text>\n                <Text style={styles.stat}>{alerte == 0 ? 'alerte emise' : alerte == 1 ? 'alerte emise' : 'alertes emises'}</Text>\n            </View>\n            <View style={styles.statContainer}>\n                <Text style={styles.statNumber}>{totalAlerte}</Text>\n                <Text style={styles.stat}>Notifications</Text>\n            </View>\n        </View>\n        \n    )\n}\n\nexport default Stats\n\nconst styles = StyleSheet.create({\n    container: {\n        ...gs.sectionContainer,\n        ...gs.rowBetween,\n        marginHorizontal: 15,\n        borderRadius: 16,\n        marginTop: -48,\n    },\n    fake_icon_box: {\n        backgroundColor: '#e4e6eb',\n        width: 40,\n        height: 40,\n        borderRadius: 40,\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n     statContainer: {\n         ...gs.center,\n         flex: 1\n     },\n     statNumber: {\n         fontSize: 50,\n         fontWeight: \"900\",\n         color: colors.text,\n         fontFamily: 'Teko-Bold'\n     },\n     stat: {\n         fontSize: 10,\n         fontWeight: \"600\",\n         letterSpacing: 1,\n         textTransform: \"uppercase\",\n         color: colors.lightHl,\n         marginTop: 6\n     },\n     divider: {\n        // borderLeftWidth: 1,\n         borderRightWidth: 1,\n         borderColor: colors.darkHl\n    }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}